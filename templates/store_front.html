{% extends 'base.html' %}

{% block js_scripts %}
<script>
function handleSearch(event) {
  var query = event.target.value;

  // Fetch search results and update the page
  fetcher('search','container', [query], function() {
     // This callback function will be called after the page is updated
     console.log('Page updated with search results for query:', query);
  });
  // TODO: Use the query to search your data and update the page
  console.log('Search query:', query);
}
</script>
{% endblock %}


{% block content %}
  <div id="container">
    {% for part in data %}
      <div class="box">
        <img src="{{ part['l'].pictureURL }}" alt="Part Image">
        <div>
          <p>{{ part['l'].description }}</p>
          <p>Price: ${{ part['l'].price }}</p>
          <p>Weight: {{ part['l'].weight }} lbs</p>
          <p>Available: {{ part['s'] }}</p>
        </div>
        <!-- Lines for the quantity input and add to cart button -->
          <div class="cart-elements">
            <label style="margin-right:5px"for="quantity">Quantity:</label>
            <input style="margin-right:5px" type="number" id="Quantity" name="Quantity" min="1" max="{{ part['s'] }}" placeholder="Enter #" {{'disabled' if part['s'] == 0}}>
          <button class="add-to-cart" {{'disabled' if part['s'] == 0}}>Add to Cart</button>
        </div>
      </div>
    {% endfor %}
  </div>
{% endblock %}


